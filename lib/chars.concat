core #module

stack #include
## files are parsed only once => defines can be at top level
+char      proc int byte      => byte      : int cast + byte      cast end
+codepoint proc int codepoint => codepoint : int cast + codepoint cast end
charDiff   proc byte byte => int : swap int cast swap int cast - end

?WhiteSpace proc byte => bool :
  #+input+# switch
  ' ' '\r' '\t' '\n' case
    true return
  end-case
  default
    false return
  end
end

#end